<!DOCTYPE html>
<html ng-app="myApp" lang="en">
<head>
  <title>LOGIN</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="style.js"></script>
  <link rel="stylesheet" type="text/css" href="../style.css">
  <script type="text/javascript">
        var myApp = angular.module("myApp", []);
            myApp.controller('LoginController',['$scope', '$http', '$window', '$q', function($scope,$http,$window,$q){
                  var loginfunction = function(data) {
                    var deferred = $q.defer();
                  $http({
                    method: 'GET',
                    params: data,
                    url: '/login_check'
                  }).then(function(res){
                    $window.location.href = "/views/home.html";
                    deferred.resolve(res.data);
                  }, function(err){
                    deferred.reject(err.data);
                  })
                  return deferred.promise;
                  }

                  $scope.login=function(){
                    loginfunction($scope.data).then(function(res){
                      alert(res.message);
                    },function(err){
                      alert(err.message);
                    });
                  };
            }]);
           // myApp.controller('RegisterController',['$scope','$http'])

  </script>


</head>
<body background = "photos/images.jpg">
<div class="container">
      <div class="row">
        <div class="col-md-6 col-md-offset-3">
          <div class="panel panel-login">
            <div class="panel-heading">
              <div class="row">
  
  <div class="panel-body" ng-app="myApp" ng-controller="LoginController">
      <div class="row">
          <div class="col-lg-12">
            
            <form id="login-form" style="display: block;">
              <div class="form-group">
                  <input type="text" id="username" tabindex="1" class="form-control" placeholder="Username" value="" ng-model="data.username">
              </div>
              
              <div class="form-group">
                  <input type="password" id="password" tabindex="2" class="form-control" placeholder="Password" ng-model="data.password">
              </div>
                  
              <div class="form-group">
                  <div class="row">
                      <div class="col-sm-6 col-sm-offset-3">
                        <button type="text" ng-click="login()" id="login-submit" tabindex="4" class="form-control btn btn-login">Login</button>
                      </div>
                  </div>
              </div>
                  
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-12">
                  </div>
                </div>
              </div>
            </form> 
              
</body>
</html>